(self.webpackChunkTP_Comanda=self.webpackChunkTP_Comanda||[]).push([[7619],{7619:(e,t,n)=>{"use strict";n.r(t),n.d(t,{RegisterPageModule:()=>Ot});var r=n(8583),s=n(665),i=n(4762),o=n(8739),a=n(3018),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.DestinationType={DATA_URL:0,FILE_URI:1,NATIVE_URI:2},t.EncodingType={JPEG:0,PNG:1},t.MediaType={PICTURE:0,VIDEO:1,ALLMEDIA:2},t.PictureSourceType={PHOTOLIBRARY:0,CAMERA:1,SAVEDPHOTOALBUM:2},t.PopoverArrowDirection={ARROW_UP:1,ARROW_DOWN:2,ARROW_LEFT:4,ARROW_RIGHT:8,ARROW_ANY:15},t.Direction={BACK:0,FRONT:1},t}return(0,i.ZT)(t,e),t.prototype.getPicture=function(e){return(0,o.DM)(this,"getPicture",{callbackOrder:"reverse"},arguments)},t.prototype.cleanup=function(){return(0,o.DM)(this,"cleanup",{platforms:["iOS"]},arguments)},t.pluginName="Camera",t.plugin="cordova-plugin-camera",t.pluginRef="navigator.camera",t.repo="https://github.com/apache/cordova-plugin-camera",t.platforms=["Android","Browser","iOS","Windows"],t.\u0275fac=function(){var e;return function(n){return(e||(e=a.n5z(t)))(n||t)}}(),t.\u0275prov=a.Yz7({token:t,factory:function(e){return t.\u0275fac(e)}}),t}(o.KY),l=n(2859),u=n(5673),h=n(2760);let d=(()=>{class e{constructor(e){this.barcodeScanner=e,this.options={formats:"PDF_417,QR_CODE"}}ngOnInit(){}getDNI(){return new Promise(e=>{this.barcodeScanner.scan(this.options).then(t=>{e(this.getJsonDNI(t))})})}getJsonDNI(e){var t=e.split("@"),n=t[2].charAt(0).toUpperCase()+t[2].slice(1).toLowerCase(),r=t[1].charAt(0).toUpperCase()+t[1].slice(1).toLowerCase(),s=t[8].substring(0,2)+t[4]+t[8].substring(3,1);return{name:n,surname:r,dni:t[4],cuil:s}}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(h.m))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var p=n(4333),g=n(9344),m=n(7556),f=n(613),_=n(8939),b=n(7574),w=n(5917),v=n(4402),y=n(7393),k=n(3637);class R{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new T(e,this.dueTime,this.scheduler))}}class T extends y.L{constructor(e,t,n){super(e),this.dueTime=t,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(x,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function x(e){e.debouncedNext()}var U=n(8002),I=n(3190),A=n(6643),C=n(8747),O=n(4486),P=n(5452),S=n(3854),E=n(6034),q=(()=>(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(q||(q={})),q))();const N="firebasestorage.googleapis.com";class Z extends S.ZR{constructor(e,t){super(L(e),`Firebase Storage: ${t} (${L(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Z.prototype)}_codeEquals(e){return L(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function L(e){return"storage/"+e}function D(){return new Z("unknown","An unknown error occurred, please check the error payload for server response.")}function F(){return new Z("canceled","User canceled the upload/download.")}function M(){return new Z("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function B(e){return new Z("invalid-argument",e)}function z(){return new Z("app-deleted","The Firebase app was deleted.")}function $(e){return new Z("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function G(e,t){return new Z("invalid-format","String does not match format '"+e+"': "+t)}function Y(e){throw new Z("internal-error","Internal error: "+e)}class H{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=q.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=q.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=q.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,n,r){if(this.sent_)throw Y("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Y("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Y("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponseText(){if(!this.sent_)throw Y("cannot .getResponseText() before sending");return this.xhr_.responseText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class j{createConnection(){return new H}}class J{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=J.makeFromUrl(e,t)}catch(r){return new J(e,"")}if(""===n.path)return n;throw new Z("invalid-default-bucket","Invalid default bucket '"+e+"'.")}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)",s=new RegExp("^gs://"+r+"(/(.*))?$","i");function i(e){e.path_=decodeURIComponent(e.path)}const o=t.replace(/[.]/g,"\\."),a=[{regex:s,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${o}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp(`^https?://${t===N?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:i}];for(let c=0;c<a.length;c++){const t=a[c],r=t.regex.exec(e);if(r){let e=r[t.indices.path];e||(e=""),n=new J(r[t.indices.bucket],e),t.postModify(n);break}}if(null==n)throw function(e){return new Z("invalid-url","Invalid URL '"+e+"'.")}(e);return n}}class Q{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function V(e){return"string"==typeof e||e instanceof String}function W(e){return X()&&e instanceof Blob}function X(){return"undefined"!=typeof Blob}function K(e,t,n,r){if(r<t)throw B(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw B(`Invalid value for '${e}'. Expected ${n} or less.`)}function ee(e,t,n){let r=t;return null==n&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function te(e){const t=encodeURIComponent;let n="?";for(const r in e)e.hasOwnProperty(r)&&(n=n+(t(r)+"=")+t(e[r])+"&");return n=n.slice(0,-1),n}class ne{constructor(e,t,n,r,s,i,o,a,c,l,u){this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=i,this.callback_=o,this.errorCallback_=a,this.timeout_=c,this.progressCallback_=l,this.pool_=u,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){const e=(e,t)=>{const n=this.resolve_,r=this.reject_,s=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(s,s.getResponseText());void 0!==e?n(e):n()}catch(i){r(i)}else if(null!==s){const e=D();e.serverResponse=s.getResponseText(),r(this.errorCallback_?this.errorCallback_(s,e):e)}else r(t.canceled?this.appDelete_?z():F():new Z("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))};this.canceled_?e(0,new re(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,s=null,i=!1,o=0;function a(){return 2===o}let c=!1;function l(...e){c||(c=!0,t.apply(null,e))}function u(t){s=setTimeout(()=>{s=null,e(h,a())},t)}function h(e,...t){if(c)return;if(e)return void l.call(null,e,...t);if(a()||i)return void l.call(null,e,...t);let n;r<64&&(r*=2),1===o?(o=2,n=0):n=1e3*(r+Math.random()),u(n)}let d=!1;function p(e){d||(d=!0,c||(null!==s?(e||(o=2),clearTimeout(s),u(0)):e||(o=1)))}return u(0),setTimeout(()=>{i=!0,p(!0)},n),p}((e,t)=>{if(t)return void e(!1,new re(!1,null,!0));const n=this.pool_.createConnection();this.pendingConnection_=n;const r=e=>{null!==this.progressCallback_&&this.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===q.NO_ERROR,s=n.getStatus();if(!t||this.isRetryStatusCode_(s)){const t=n.getErrorCode()===q.ABORT;return void e(!1,new re(!1,null,t))}const i=-1!==this.successCodes_.indexOf(s);e(!0,new re(i,n))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}class re{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function se(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function ie(...e){const t=se();if(void 0!==t){const n=new t;for(let t=0;t<e.length;t++)n.append(e[t]);return n.getBlob()}if(X())return new Blob(e);throw new Z("unsupported-environment","This browser doesn't seem to support creating Blobs")}const oe={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ae{constructor(e,t){this.data=e,this.contentType=t||null}}function ce(e,t){switch(e){case oe.RAW:return new ae(le(t));case oe.BASE64:case oe.BASE64URL:return new ae(ue(e,t));case oe.DATA_URL:return new ae(function(e){const t=new he(e);return t.base64?ue(oe.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(n){throw G(oe.DATA_URL,"Malformed data URL.")}return le(t)}(t.rest)}(t),new he(t).contentType)}throw D()}function le(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<=127?t.push(r):r<=2047?t.push(192|r>>6,128|63&r):55296==(64512&r)?n<e.length-1&&56320==(64512&e.charCodeAt(n+1))?(r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):t.push(239,191,189):56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function ue(e,t){switch(e){case oe.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw G(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break}case oe.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r)throw G(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=atob(t)}catch(s){throw G(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class he{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw G(oe.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;var r,s;null!=n&&(this.base64=(r=n).length>=(s=";base64").length&&r.substring(r.length-s.length)===s,this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1)}}class de{constructor(e,t){let n=0,r="";W(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(W(this.data_)){const i=(r=e,s=t,(n=this.data_).webkitSlice?n.webkitSlice(r,s):n.mozSlice?n.mozSlice(r,s):n.slice?n.slice(r,s):null);return null===i?null:new de(i)}var n,r,s;{const n=new Uint8Array(this.data_.buffer,e,t-e);return new de(n,!0)}}static getBlob(...e){if(X()){const t=e.map(e=>e instanceof de?e.data_:e);return new de(ie.apply(null,t))}{const t=e.map(e=>V(e)?ce(oe.RAW,e).data:e.data_);let n=0;t.forEach(e=>{n+=e.byteLength});const r=new Uint8Array(n);let s=0;return t.forEach(e=>{for(let t=0;t<e.length;t++)r[s++]=e[t]}),new de(r,!0)}}uploadData(){return this.data_}}function pe(e){let t;try{t=JSON.parse(e)}catch(r){return null}return"object"!=typeof(n=t)||Array.isArray(n)?null:t;var n}function ge(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function me(e,t){return t}class fe{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||me}}let _e=null;function be(){if(_e)return _e;const e=[];e.push(new fe("bucket")),e.push(new fe("generation")),e.push(new fe("metageneration")),e.push(new fe("name","fullPath",!0));const t=new fe("name");t.xform=function(e,t){return function(e){return!V(e)||e.length<2?e:ge(e)}(t)},e.push(t);const n=new fe("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new fe("timeCreated")),e.push(new fe("updated")),e.push(new fe("md5Hash",null,!0)),e.push(new fe("cacheControl",null,!0)),e.push(new fe("contentDisposition",null,!0)),e.push(new fe("contentEncoding",null,!0)),e.push(new fe("contentLanguage",null,!0)),e.push(new fe("contentType",null,!0)),e.push(new fe("metadata","customMetadata",!0)),_e=e,_e}function we(e,t,n){const r=pe(t);return null===r?null:function(e,t,n){const r={type:"file"},s=n.length;for(let i=0;i<s;i++){const e=n[i];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=new J(e.bucket,e.fullPath);return t._makeStorageReference(n)}})}(r,e),r}(e,r,n)}function ve(e,t){const n={},r=t.length;for(let s=0;s<r;s++){const r=t[s];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class ye{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ke(e){if(!e)throw D()}function Re(e,t){return function(n,r){const s=we(e,r,t);return ke(null!==s),s}}function Te(e){return function(t,n){let r;return r=401===t.getStatus()?t.getResponseText().includes("Firebase App Check token is invalid")?new Z("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Z("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?new Z("quota-exceeded","Quota for bucket '"+e.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===t.getStatus()?new Z("unauthorized","User does not have permission to access '"+e.path+"'."):n,r.serverResponse=n.serverResponse,r}}function xe(e){const t=Te(e);return function(n,r){let s=t(n,r);return 404===n.getStatus()&&(s=new Z("object-not-found","Object '"+e.path+"' does not exist.")),s.serverResponse=r.serverResponse,s}}function Ue(e,t,n){const r=ee(t.fullServerUrl(),e.host,e._protocol),s=e.maxOperationRetryTime,i=new ye(r,"GET",Re(e,n),s);return i.errorHandler=xe(t),i}function Ie(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return t&&t.type()||"application/octet-stream"}(0,t)),r}class Ae{constructor(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}}function Ce(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){ke(!1)}return ke(!!n&&-1!==(t||["active"]).indexOf(n)),n}const Oe=262144,Pe={STATE_CHANGED:"state_changed"},Se={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ee(e){switch(e){case"running":case"pausing":case"canceling":return Se.RUNNING;case"paused":return Se.PAUSED;case"success":return Se.SUCCESS;case"canceled":return Se.CANCELED;case"error":default:return Se.ERROR}}class qe{constructor(e,t,n){if("function"==typeof e||null!=t||null!=n)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=n?n:void 0;else{const t=e;this.next=t.next,this.error=t.error,this.complete=t.complete}}}function Ne(e){return(...t)=>{Promise.resolve().then(()=>e(...t))}}class Ze{constructor(e,t,n=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=be(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{this._request=void 0,this._chunkMultiplier=1,e._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=e,this._transition("error"))},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals("canceled")?this.completeTransitions_():(this._error=e,this._transition("error"))},this._promise=new Promise((e,t)=>{this._resolve=e,this._reject=t,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,n])=>{switch(this._state){case"running":e(t,n);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const n=function(e,t,n,r,s){const i=t.bucketOnlyServerUrl(),o=Ie(t,r,s),a={name:o.fullPath},c=ee(i,e.host,e._protocol),l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},u=ve(o,n),h=new ye(c,"POST",function(e){let t;Ce(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){ke(!1)}return ke(V(t)),t},e.maxUploadRetryTime);return h.urlParams=a,h.headers=l,h.body=u,h.errorHandler=Te(t),h}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,e,t);this._request=r,r.getPromise().then(e=>{this._request=void 0,this._uploadUrl=e,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,n)=>{const r=function(e,t,n,r){const s=new ye(n,"POST",function(e){const t=Ce(e,["active","final"]);let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(i){ke(!1)}n||ke(!1);const s=Number(n);return ke(!isNaN(s)),new Ae(s,r.size(),"final"===t)},e.maxUploadRetryTime);return s.headers={"X-Goog-Upload-Command":"query"},s.errorHandler=Te(t),s}(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(r,t,n);this._request=s,s.getPromise().then(e=>{e=e,this._request=void 0,this._updateProgress(e.current),this._needToFetchStatus=!1,e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=Oe*this._chunkMultiplier,t=new Ae(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken((r,s)=>{let i;try{i=function(e,t,n,r,s,i,o,a){const c=new Ae(0,0);if(o?(c.current=o.current,c.total=o.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw new Z("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const l=c.total-c.current;let u=l;s>0&&(u=Math.min(u,s));const h=c.current,d={"X-Goog-Upload-Command":u===l?"upload, finalize":"upload","X-Goog-Upload-Offset":`${c.current}`},p=r.slice(h,h+u);if(null===p)throw M();const g=new ye(n,"POST",function(e,n){const s=Ce(e,["active","final"]),o=c.current+u,a=r.size();let l;return l="final"===s?Re(t,i)(e,n):null,new Ae(o,a,"final"===s,l)},t.maxUploadRetryTime);return g.headers=d,g.body=p.uploadData(),g.progressCallback=a||null,g.errorHandler=Te(e),g}(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(a){return this._error=a,void this._transition("error")}const o=this._ref.storage._makeRequest(i,r,s);this._request=o,o.getPromise().then(e=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(e.current),e.finalized?(this._metadata=e.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){Oe*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const n=Ue(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(n,e,t);this._request=r,r.getPromise().then(e=>{this._request=void 0,this._metadata=e,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const n=function(e,t,n,r,s){const i=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+a;const c=Ie(t,r,s),l=ve(c,n),u=de.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+l+"\r\n--"+a+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===u)throw M();const h={name:c.fullPath},d=ee(i,e.host,e._protocol),p=e.maxUploadRetryTime,g=new ye(d,"POST",Re(e,n),p);return g.urlParams=h,g.headers=o,g.body=u.uploadData(),g.errorHandler=Te(t),g}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,e,t);this._request=r,r.getPromise().then(e=>{this._request=void 0,this._metadata=e,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=F(),this._state=e,this._notifyObservers();break;case"error":case"success":this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=Ee(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,r){const s=new qe(t||void 0,n||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(Ee(this._state)){case Se.SUCCESS:Ne(this._resolve.bind(null,this.snapshot))();break;case Se.CANCELED:case Se.ERROR:Ne(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Ee(this._state)){case Se.RUNNING:case Se.PAUSED:e.next&&Ne(e.next.bind(e,this.snapshot))();break;case Se.SUCCESS:e.complete&&Ne(e.complete.bind(e))();break;case Se.CANCELED:case Se.ERROR:e.error&&Ne(e.error.bind(e,this._error))();break;default:e.error&&Ne(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Le{constructor(e,t){this._service=e,this._location=t instanceof J?t:J.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Le(e,t)}get root(){const e=new J(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ge(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new J(this._location.bucket,e);return new Le(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw $(e)}}function De(e){const t={prefixes:[],items:[]};return Fe(e,t).then(()=>t)}async function Fe(e,t,n){const r={pageToken:n},s=await Me(e,r);t.prefixes.push(...s.prefixes),t.items.push(...s.items),null!=s.nextPageToken&&await Fe(e,t,s.nextPageToken)}async function Me(e,t){null!=t&&"number"==typeof t.maxResults&&K("options.maxResults",1,1e3,t.maxResults);const n=t||{},r=function(e,t,n,r,s){const i={};i.prefix=t.isRoot?"":t.path+"/",n&&n.length>0&&(i.delimiter=n),r&&(i.pageToken=r),s&&(i.maxResults=s);const o=ee(t.bucketOnlyServerUrl(),e.host,e._protocol),a=e.maxOperationRetryTime,c=new ye(o,"GET",function(e,t){return function(n,r){const s=function(e,t,n){const r=pe(n);return null===r?null:function(e,t,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(const s of n.prefixes){const n=s.replace(/\/$/,""),i=e._makeStorageReference(new J(t,n));r.prefixes.push(i)}if(n.items)for(const s of n.items){const n=e._makeStorageReference(new J(t,s.name));r.items.push(n)}return r}(e,t,r)}(e,t,r);return ke(null!==s),s}}(e,t.bucket),a);return c.urlParams=i,c.errorHandler=Te(t),c}(e.storage,e._location,"/",n.pageToken,n.maxResults);return(await e.storage.makeRequestWithTokens(r)).getPromise()}function Be(e,t){const n=function(e,t){const n=t.split("/").filter(e=>e.length>0).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new J(e._location.bucket,n);return new Le(e.storage,r)}function ze(e,t){if(e instanceof Ye){const n=e;if(null==n._bucket)throw new Z("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");const r=new Le(n,n._bucket);return null!=t?ze(r,t):r}return void 0!==t?Be(e,t):e}function $e(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Ye)return new Le(e,t);throw B("To use ref(service, url), the first argument must be a Storage instance.")}return ze(e,t)}function Ge(e,t){const n=null==t?void 0:t.storageBucket;return null==n?null:J.makeFromBucketSpec(n,e)}class Ye{constructor(e,t,n,r,s,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._pool=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=N,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=s?J.makeFromBucketSpec(s,this._host):Ge(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?J.makeFromBucketSpec(this._url,e):Ge(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){K("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){K("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Le(this,e)}_makeRequest(e,t,n){if(this._deleted)return new Q(z());{const r=function(e,t,n,r,s,i){const o=te(e.urlParams),a=e.url+o,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(c,i),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new ne(a,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,s)}(e,this._appId,t,n,this._pool,this._firebaseVersion);return this._requests.add(r),r.getPromise().then(()=>this._requests.delete(r),()=>this._requests.delete(r)),r}}async makeRequestWithTokens(e){const[t,n]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n)}}const He="@firebase/storage",je="0.8.4";function Je(e,t){return $e(e=(0,S.m9)(e),t)}(0,P._registerComponent)(new E.wA("storage",function(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new Ye(n,r,s,new j,t,P.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,P.registerVersion)(He,je,""),(0,P.registerVersion)(He,je,"esm2017");class Qe{constructor(e,t,n){this._delegate=e,this.task=t,this.ref=n}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Ve{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Qe(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(t=>{if(e)return e(new Qe(t,this,this._ref))},t)}on(e,t,n,r){let s;return t&&(s="function"==typeof t?e=>t(new Qe(e,this,this._ref)):{next:t.next?e=>t.next(new Qe(e,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,s,n||void 0,r||void 0)}}class We{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new Xe(e,this._service))}get items(){return this._delegate.items.map(e=>new Xe(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Xe{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function(e,t){return Be(e,t)}(this._delegate,e);return new Xe(t,this.storage)}get root(){return new Xe(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Xe(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new Ve(function(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Ze(e,new de(t),n)}(e=(0,S.m9)(e),t,n)}(this._delegate,e,t),this)}putString(e,t=oe.RAW,n){this._throwIfRoot("putString");const r=ce(t,e),s=Object.assign({},n);return null==s.contentType&&null!=r.contentType&&(s.contentType=r.contentType),new Ve(new Ze(this._delegate,new de(r.data,!0),s),this)}listAll(){return function(e){return De(e=(0,S.m9)(e))}(this._delegate).then(e=>new We(e,this.storage))}list(e){return function(e,t){return Me(e=(0,S.m9)(e),t)}(this._delegate,e||void 0).then(e=>new We(e,this.storage))}getMetadata(){return function(e){return async function(e){e._throwIfRoot("getMetadata");const t=Ue(e.storage,e._location,be());return(await e.storage.makeRequestWithTokens(t)).getPromise()}(e=(0,S.m9)(e))}(this._delegate)}updateMetadata(e){return function(e,t){return async function(e,t){e._throwIfRoot("updateMetadata");const n=function(e,t,n,r){const s=ee(t.fullServerUrl(),e.host,e._protocol),i=ve(n,r),o=e.maxOperationRetryTime,a=new ye(s,"PATCH",Re(e,r),o);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=i,a.errorHandler=xe(t),a}(e.storage,e._location,t,be());return(await e.storage.makeRequestWithTokens(n)).getPromise()}(e=(0,S.m9)(e),t)}(this._delegate,e)}getDownloadURL(){return function(e){return async function(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=ee(t.fullServerUrl(),e.host,e._protocol),s=e.maxOperationRetryTime,i=new ye(r,"GET",function(e,t){return function(n,r){const s=we(e,r,t);return ke(null!==s),function(e,t,n,r){const s=pe(t);if(null===s)return null;if(!V(s.downloadTokens))return null;const i=s.downloadTokens;if(0===i.length)return null;const o=encodeURIComponent;return i.split(",").map(t=>{const s=e.fullPath;return ee("/b/"+o(e.bucket)+"/o/"+o(s),n,r)+te({alt:"media",token:t})})[0]}(s,r,e.host,e._protocol)}}(e,n),s);return i.errorHandler=xe(t),i}(e.storage,e._location,be());return(await e.storage.makeRequestWithTokens(t)).getPromise().then(e=>{if(null===e)throw new Z("no-download-url","The given file does not have any download URLs.");return e})}(e=(0,S.m9)(e))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(e){return async function(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=ee(t.fullServerUrl(),e.host,e._protocol),r=new ye(n,"DELETE",function(e,t){},e.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=xe(t),r}(e.storage,e._location);return(await e.storage.makeRequestWithTokens(t)).getPromise()}(e=(0,S.m9)(e))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw $(e)}}class Ke{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(et(e))throw B("ref() expected a child path but got a URL, use refFromURL instead.");return new Xe(Je(this._delegate,e),this)}refFromURL(e){if(!et(e))throw B("refFromURL() expected a full URL but got a child path, use ref() instead.");try{J.makeFromUrl(e,this._delegate.host)}catch(t){throw B("refFromUrl() expected a valid full URL but got an invalid one.")}return new Xe(Je(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,n={}){!function(e,t,n,r={}){!function(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:s}=r;s&&(e._overrideAuthToken="string"==typeof s?s:(0,S.Sg)(s,e.app.options.projectId))}(e,t,n,r)}(this._delegate,e,t,n)}}function et(e){return/^[A-Za-z]+:\/\//.test(e)}function tt(e,{instanceIdentifier:t}){const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("storage").getImmediate({identifier:t});return new Ke(n,r)}!function(e){const t={TaskState:Se,TaskEvent:Pe,StringFormat:oe,Storage:Ke,Reference:Xe};e.INTERNAL.registerComponent(new E.wA("storage-compat",tt,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.1.4")}(O.Z);var nt=n(2965);function rt(e){const t=function(e){return new b.y(t=>{const n=e=>t.next(e);n(e.snapshot);const r=e.on("state_changed",n);return e.then(e=>{n(e),t.complete()},r=>{n(e.snapshot),(e=>{t.error(e)})(r)}),function(){r()}}).pipe(function(e,t=k.P){return n=>n.lift(new R(e,t))}(0))}(e);return{task:e,then:e.then.bind(e),catch:e.catch.bind(e),pause:e.pause.bind(e),cancel:e.cancel.bind(e),resume:e.resume.bind(e),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,U.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function st(e){return{getDownloadURL:()=>(0,w.of)(void 0).pipe(A.fc,(0,I.w)(()=>e.getDownloadURL()),A.iC),getMetadata:()=>(0,w.of)(void 0).pipe(A.fc,(0,I.w)(()=>e.getMetadata()),A.iC),delete:()=>(0,v.D)(e.delete()),child:t=>st(e.child(t)),updateMetadata:t=>(0,v.D)(e.updateMetadata(t)),put:(t,n)=>rt(e.put(t,n)),putString:(t,n,r)=>rt(e.putString(t,n,r)),list:t=>(0,v.D)(e.list(t)),listAll:()=>(0,v.D)(e.listAll())}}n(7841);const it=new a.OlP("angularfire2.storageBucket"),ot=new a.OlP("angularfire2.storage.maxUploadRetryTime"),at=new a.OlP("angularfire2.storage.maxOperationRetryTime"),ct=new a.OlP("angularfire2.storage.use-emulator");let lt=(()=>{class e{constructor(e,t,n,r,s,i,o,a,c,l){const u=(0,C.on)(e,s,t);this.storage=(0,C.cc)(`${u.name}.storage.${n}`,"AngularFireStorage",u.name,()=>{const e=s.runOutsideAngular(()=>u.storage(n||void 0)),t=c;return t&&e.useEmulator(...t),o&&e.setMaxUploadRetryTime(o),a&&e.setMaxOperationRetryTime(a),e},[o,a])}ref(e){return st(this.storage.ref(e))}refFromURL(e){return st(this.storage.refFromURL(e))}upload(e,t,n){return st(this.storage.ref(e)).put(t,n)}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(C.Dh),a.LFG(C.xv,8),a.LFG(it,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(A.HU),a.LFG(ot,8),a.LFG(at,8),a.LFG(ct,8),a.LFG(nt.nm,8))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})(),ut=(()=>{class e{constructor(e){this.storage=e}saveFile(e,t,n){return new Promise(r=>{const s=this.storage.ref(t+"/"+n);s.put(e).snapshotChanges().pipe((0,_.x)(()=>{s.getDownloadURL().subscribe(e=>{e(e)})})).subscribe()})}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(lt))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function ht(e,t){if(1&e&&a._UZ(0,"img",22),2&e){const e=a.oxw();a.s9C("src",e.img,a.LSH)}}function dt(e,t){1&e&&a._UZ(0,"img",23)}function pt(e,t){if(1&e&&(a.TgZ(0,"div",25),a._uU(1),a.qZA()),2&e){const e=a.oxw().$implicit;a.xp6(1),a.hij(" ",e.message," ")}}function gt(e,t){if(1&e&&(a.ynx(0),a.YNc(1,pt,2,1,"div",24),a.BQk()),2&e){const e=t.$implicit,n=a.oxw();a.xp6(1),a.Q6J("ngIf",n.form.get("name").hasError(e.type)&&(n.form.get("name").dirty||n.form.get("name").touched))}}function mt(e,t){if(1&e&&(a.TgZ(0,"div",25),a._uU(1),a.qZA()),2&e){const e=a.oxw().$implicit;a.xp6(1),a.hij(" ",e.message," ")}}function ft(e,t){if(1&e&&(a.ynx(0),a.YNc(1,mt,2,1,"div",24),a.BQk()),2&e){const e=t.$implicit,n=a.oxw();a.xp6(1),a.Q6J("ngIf",n.form.get("surname").hasError(e.type)&&(n.form.get("surname").dirty||n.form.get("surname").touched))}}function _t(e,t){if(1&e&&(a.TgZ(0,"div",25),a._uU(1),a.qZA()),2&e){const e=a.oxw().$implicit;a.xp6(1),a.hij(" ",e.message," ")}}function bt(e,t){if(1&e&&(a.ynx(0),a.YNc(1,_t,2,1,"div",24),a.BQk()),2&e){const e=t.$implicit,n=a.oxw();a.xp6(1),a.Q6J("ngIf",n.form.get("dni").hasError(e.type)&&(n.form.get("dni").dirty||n.form.get("dni").touched))}}function wt(e,t){if(1&e&&(a.TgZ(0,"div",25),a._uU(1),a.qZA()),2&e){const e=a.oxw().$implicit;a.xp6(1),a.hij(" ",e.message," ")}}function vt(e,t){if(1&e&&(a.ynx(0),a.YNc(1,wt,2,1,"div",24),a.BQk()),2&e){const e=t.$implicit,n=a.oxw();a.xp6(1),a.Q6J("ngIf",n.form.get("cuil").hasError(e.type)&&(n.form.get("cuil").dirty||n.form.get("cuil").touched))}}function yt(e,t){if(1&e&&(a.TgZ(0,"ion-select-option"),a._uU(1),a.qZA()),2&e){const e=t.$implicit;a.xp6(1),a.Oqu(e.kynd)}}function kt(e,t){if(1&e&&(a.TgZ(0,"div",25),a._uU(1),a.qZA()),2&e){const e=a.oxw().$implicit;a.xp6(1),a.hij(" ",e.message," ")}}function Rt(e,t){if(1&e&&(a.ynx(0),a.YNc(1,kt,2,1,"div",24),a.BQk()),2&e){const e=t.$implicit,n=a.oxw();a.xp6(1),a.Q6J("ngIf",n.form.get("profile").hasError(e.type)&&(n.form.get("profile").dirty||n.form.get("profile").touched))}}function Tt(e,t){if(1&e&&(a.TgZ(0,"div",25),a._uU(1),a.qZA()),2&e){const e=a.oxw().$implicit;a.xp6(1),a.hij(" ",e.message," ")}}function xt(e,t){if(1&e&&(a.ynx(0),a.YNc(1,Tt,2,1,"div",24),a.BQk()),2&e){const e=t.$implicit,n=a.oxw();a.xp6(1),a.Q6J("ngIf",n.form.get("email").hasError(e.type)&&(n.form.get("email").dirty||n.form.get("email").touched))}}function Ut(e,t){if(1&e&&(a.TgZ(0,"div",25),a._uU(1),a.qZA()),2&e){const e=a.oxw().$implicit;a.xp6(1),a.hij(" ",e.message," ")}}function It(e,t){if(1&e&&(a.ynx(0),a.YNc(1,Ut,2,1,"div",24),a.BQk()),2&e){const e=t.$implicit,n=a.oxw();a.xp6(1),a.Q6J("ngIf",n.form.get("password").hasError(e.type)&&(n.form.get("password").dirty||n.form.get("password").touched))}}const At=[{path:"",component:(()=>{class e{constructor(e,t,n,r,s,i,o,a,c){this.qr=e,this.camera=t,this.router=n,this.vibration=r,this.toastr=s,this.formbuider=i,this.authService=o,this.userService=a,this.storage=c,this.listEmployees=[{kynd:"DUENIO"},{kynd:"SUPERVISOR"}],this.validationUserMessage={name:[{type:"required",message:"Por favor, ingrese nombre"},{type:"minlength",message:"El nombre debe tener 2 caract\xe9res o m\xe1s"},{type:"maxlength",message:"El nombre no puede tener m\xe1s de 30 caract\xe9res"},{type:"pattern",message:"El nombre ingresado es incorrecto, int\xe9ntelo de nuevo!"}],surname:[{type:"required",message:"Por favor, ingrese apellido"},{type:"minlength",message:"El apellido debe tener 2 caract\xe9res o m\xe1s"},{type:"maxlength",message:"El apellido no puede tener m\xe1s de 30 caract\xe9res"},{type:"pattern",message:"El apellido ingresado es incorrecto, int\xe9ntelo de nuevo!"}],dni:[{type:"required",message:"Por favor, ingrese DNI"},{type:"max",message:"El DNI debe tener 8 d\xedgitos"},{type:"min",message:"El DNI debe tener 8 d\xedgitos"}],cuil:[{type:"required",message:"Por favor, ingrese CUIL"},{type:"max",message:"El CUIL debe tener 11 d\xedgitos"},{type:"min",message:"El CUIL debe tener 11 d\xedgitos"}],img:[{type:"required",message:"Por favor, ingrese foto de perfil"}],profile:[{type:"required",message:"Por favor, seleccione el tipo de empleado"}],email:[{type:"required",message:"Por favor, ingrese correo"},{type:"maxlength",message:"El correo no puede tener m\xe1s de 30 caract\xe9res"},{type:"pattern",message:"El correo ingresado es incorrecto, int\xe9ntelo de nuevo!"}],password:[{type:"required",message:"Por favor, ingrese contrase\xf1a"},{type:"minlength",message:"La contrase\xf1a debe tener 6 caract\xe9res o m\xe1s"},{type:"maxlength",message:"La contrase\xf1a no puede tener m\xe1s de 15 caract\xe9res"}]}}ngOnInit(){this.validateForm()}validateForm(){this.form=this.formbuider.group({name:new s.NI("",s.kI.compose([s.kI.required,s.kI.pattern("[a-zA-Z ]+$"),s.kI.maxLength(30),s.kI.minLength(2)])),surname:new s.NI("",s.kI.compose([s.kI.required,s.kI.pattern("[a-zA-Z ]+$"),s.kI.maxLength(30),s.kI.minLength(2)])),dni:new s.NI("",s.kI.compose([s.kI.required,s.kI.min(11111111),s.kI.max(99999999)])),cuil:new s.NI("",s.kI.compose([s.kI.required,s.kI.min(11111111111),s.kI.max(99999999999)])),img:new s.NI("",s.kI.compose([s.kI.required])),profile:new s.NI("",s.kI.compose([s.kI.required])),email:new s.NI("",s.kI.compose([s.kI.required,s.kI.pattern("^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$"),s.kI.maxLength(35)])),password:new s.NI("",s.kI.compose([s.kI.required,s.kI.minLength(6),s.kI.maxLength(15)]))})}get name(){return this.form.get("name").value}set name(e){this.form.controls.name.setValue(e)}get surname(){return this.form.get("surname").value}set surname(e){this.form.controls.surname.setValue(e)}get dni(){return this.form.get("dni").value}set dni(e){this.form.controls.dni.setValue(e)}get cuil(){return this.form.get("cuil").value}set cuil(e){this.form.controls.cuil.setValue(e)}get img(){return this.form.get("img").value}set img(e){this.form.controls.img.setValue(e)}get profile(){return this.form.get("profile").value}set profile(e){this.form.controls.profile.setValue(e)}get email(){return this.form.get("email").value.toLowerCase()}set email(e){this.form.controls.email.setValue(e)}get password(){return this.form.get("password").value}set password(e){this.form.controls.password.setValue(e)}scannQR(){this.qr.getDNI().then(e=>{this.name=e.name,this.surname=e.surname,this.dni=e.dni,this.cuil=e.cuil})}takePic(){this.camera.getPicture({destinationType:this.camera.DestinationType.DATA_URL,targetWidth:500,targetHeight:500,quality:30}).then(e=>{this.img=`data:image/jpeg;base64,${e}`})}onRegister(){return(0,i.mG)(this,void 0,void 0,function*(){if(this.authService.register(this.email,this.password)){const e=this.getDataUser();this.userService.createOne(e)&&(this.vibration.vibrate([1e3,500,1e3]),this.toastr.success("Bienvenido!","Registro de Usuario"),this.redirectTo("home"))}else this.vibration.vibrate([1e3]),this.toastr.error("Datos ingresados incorrectos","Registro de Usuario")})}getDataUser(){let e=null;return e="DUENIO"==this.profile?{id:"",nombre:this.name,apellido:this.surname,dni:this.dni,cuil:this.cuil,img:this.img,estado:"PENDIENTE",correo:this.email,perfil:"DUENIO",fecha_creacion:(new Date).getTime()}:{id:"",nombre:this.name,apellido:this.surname,dni:this.dni,cuil:this.cuil,img:this.img,estado:"PENDIENTE",correo:this.email,perfil:"SUPERVISOR",fecha_creacion:(new Date).getTime()},e}redirectTo(e){this.router.navigate([e])}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(d),a.Y36(c),a.Y36(u.F0),a.Y36(p.w),a.Y36(g._W),a.Y36(s.qu),a.Y36(m.e),a.Y36(f.K),a.Y36(ut))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-register-duenio_super"]],decls:50,vars:12,consts:[["vertical","top","horizontal","end",3,"click"],["name","camera"],["id","card-img"],["alt","",3,"src",4,"ngIf","ngIfElse"],["no_img",""],[3,"formGroup","ngSubmit"],["vertical","top","horizontal","end","slot","fixed",3,"click"],["name","barcode"],["type","text","name","name","formControlName","name","placeholder","Nombre"],["name","logo-reddit"],[4,"ngFor","ngForOf"],["type","text","name","surname","formControlName","surname","placeholder","Apellido"],["type","number","name","dni","formControlName","dni","placeholder","DNI"],["type","number","name","cuil","formControlName","cuil","placeholder","CUIL"],["placeholder","Perfil","name","profile","formControlName","profile","okText","Confirmar","cancelText","Cancelar"],["type","text","name","email","formControlName","email","placeholder","Correo"],["name","mail-outline"],["type","password","name","password","formControlName","password","placeholder","**************"],["name","lock-closed-outline"],["shape","round","type","submit","fill","solid",1,"sign-btn",3,"disabled"],["vertical","bottom","horizontal","start",3,"click"],["name","home"],["alt","",3,"src"],["src","assets/images/default.jpg","alt",""],["class","error_message",4,"ngIf"],[1,"error_message"]],template:function(e,t){if(1&e&&(a.TgZ(0,"ion-content"),a.TgZ(1,"ion-fab",0),a.NdJ("click",function(){return t.takePic()}),a.TgZ(2,"ion-fab-button"),a._UZ(3,"ion-icon",1),a.qZA(),a.qZA(),a.TgZ(4,"ion-card",2),a.TgZ(5,"ion-card-content"),a.YNc(6,ht,1,1,"img",3),a.YNc(7,dt,1,0,"ng-template",null,4,a.W1O),a.qZA(),a.qZA(),a.TgZ(9,"ion-card"),a.TgZ(10,"ion-card-content"),a.TgZ(11,"form",5),a.NdJ("ngSubmit",function(){return t.onRegister()}),a.TgZ(12,"ion-fab",6),a.NdJ("click",function(){return t.scannQR()}),a.TgZ(13,"ion-fab-button"),a._UZ(14,"ion-icon",7),a.qZA(),a.qZA(),a.TgZ(15,"ion-item"),a.TgZ(16,"ion-input",8),a._UZ(17,"ion-icon",9),a.qZA(),a.qZA(),a.YNc(18,gt,2,1,"ng-container",10),a.TgZ(19,"ion-item"),a.TgZ(20,"ion-input",11),a._UZ(21,"ion-icon",9),a.qZA(),a.qZA(),a.YNc(22,ft,2,1,"ng-container",10),a.TgZ(23,"ion-item"),a.TgZ(24,"ion-input",12),a._UZ(25,"ion-icon",9),a.qZA(),a.qZA(),a.YNc(26,bt,2,1,"ng-container",10),a.TgZ(27,"ion-item"),a.TgZ(28,"ion-input",13),a._UZ(29,"ion-icon",9),a.qZA(),a.qZA(),a.YNc(30,vt,2,1,"ng-container",10),a.TgZ(31,"ion-item"),a.TgZ(32,"ion-label"),a._UZ(33,"ion-icon",9),a.qZA(),a.TgZ(34,"ion-select",14),a.YNc(35,yt,2,1,"ion-select-option",10),a.qZA(),a.qZA(),a.YNc(36,Rt,2,1,"ng-container",10),a.TgZ(37,"ion-item"),a.TgZ(38,"ion-input",15),a._UZ(39,"ion-icon",16),a.qZA(),a.qZA(),a.YNc(40,xt,2,1,"ng-container",10),a.TgZ(41,"ion-item"),a.TgZ(42,"ion-input",17),a._UZ(43,"ion-icon",18),a.qZA(),a.qZA(),a.YNc(44,It,2,1,"ng-container",10),a.TgZ(45,"ion-button",19),a._uU(46," Registrar"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(47,"ion-fab",20),a.NdJ("click",function(){return t.redirectTo("home")}),a.TgZ(48,"ion-fab-button"),a._UZ(49,"ion-icon",21),a.qZA(),a.qZA(),a.qZA()),2&e){const e=a.MAs(8);a.xp6(6),a.Q6J("ngIf",t.img)("ngIfElse",e),a.xp6(5),a.Q6J("formGroup",t.form),a.xp6(7),a.Q6J("ngForOf",t.validationUserMessage.name),a.xp6(4),a.Q6J("ngForOf",t.validationUserMessage.surname),a.xp6(4),a.Q6J("ngForOf",t.validationUserMessage.dni),a.xp6(4),a.Q6J("ngForOf",t.validationUserMessage.cuil),a.xp6(5),a.Q6J("ngForOf",t.listEmployees),a.xp6(1),a.Q6J("ngForOf",t.validationUserMessage.profile),a.xp6(4),a.Q6J("ngForOf",t.validationUserMessage.email),a.xp6(4),a.Q6J("ngForOf",t.validationUserMessage.password),a.xp6(1),a.Q6J("disabled",!t.form.valid)}},directives:[l.W2,l.IJ,l.W4,l.gu,l.PM,l.FN,r.O5,s._Y,s.JL,s.sg,l.Ie,l.pK,l.j9,s.JJ,s.u,r.sg,l.as,l.Q$,l.t9,l.QI,l.YG,l.n0],styles:[".error_message[_ngcontent-%COMP%]{color:red;font-size:100%}#card-img[_ngcontent-%COMP%]{left:15%;width:70%}ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px;padding-right:2%}ion-label[_ngcontent-%COMP%]{flex:none!important;-webkit-flex:none!important}"]}),e})()}];let Ct=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[u.Bz.forChild(At)],u.Bz]}),e})(),Ot=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({providers:[c],imports:[[l.Pc,s.u5,r.ez,s.UX,Ct]]}),e})()}}]);